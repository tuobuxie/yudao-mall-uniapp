import{v as a,aE as t,o as s,r as e,e as n,f as l,w as o,c7 as i,c9 as r,ca as u,s as c,j as p,k as m,l as d,m as g,F as f,g as _,i as k,A as y,p as S,t as b,aF as v,G as h,q as j}from"./index-kPUodEo8.js";import{_ as C}from"./uni-load-more.8Kzkyk-l.js";import{S as T}from"./s-layout.ChN2kRO2.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{c as M}from"./concat.CXHZS4ws.js";const N=x({__name:"promoter",setup(x){const N=["周排行","月排行"],U=a({currentTab:0,times:[],pagination:{list:[],total:0,pageNo:1,pageSize:10},loadStatus:""});async function w(){U.loadStatus="loading";const{code:a,data:t}=await i.getBrokerageUserRankPageByUserCount({pageNo:U.pagination.pageNo,pageSize:U.pagination.pageSize,"times[0]":U.times[0],"times[1]":U.times[1]});0===a&&(U.pagination.list=M(U.pagination.list,t.list),U.pagination.total=t.total,U.loadStatus=U.pagination.list.length<U.pagination.total?"more":"noMore")}function z(){"noMore"!==U.loadStatus&&(U.pagination.pageNo++,getList())}function F(){let a;a=0===U.currentTab?r():u(),U.times=[B(a[0]),B(a[1])]}function B(a){return c.$helper.timeFormat(a,"yyyy-mm-dd hh:MM:ss")}return t((()=>z())),s((function(){F(),w()})),(a,t)=>{const s=k,i=h,r=j,u=e(n("uni-load-more"),C),c=e(n("s-layout"),T);return p(),l(c,{title:"推广人排行榜"},{default:o((()=>[m(s,{class:"promoter-rank"},{default:o((()=>[m(s,{class:"nav"},{default:o((()=>[(p(),d(f,null,g(N,((a,t)=>m(s,{class:y(["item",U.currentTab===t?"active":""]),key:t,onClick:a=>function(a){U.currentTab!==a&&(U.currentTab=a,v(U.pagination),F(),w())}(t)},{default:o((()=>[S(b(a),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),m(s,{class:"top-list"},{default:o((()=>[(p(!0),d(f,null,g(U.pagination.list,((a,t)=>(p(),d(f,{key:t},[t<3?(p(),l(s,{key:0,class:"item"},{default:o((()=>[m(s,{class:"pictrue"},{default:o((()=>[m(s,{class:"num"},{default:o((()=>[m(i,null,{default:o((()=>[S(b(t+1),1)])),_:2},1024)])),_:2},1024),m(r,{class:"image",src:a.avatar},null,8,["src"])])),_:2},1024),m(s,{class:"people"},{default:o((()=>[S(b(a.brokerageUserCount)+"人",1)])),_:2},1024),m(s,{class:"nickname"},{default:o((()=>[S(b(a.nickname),1)])),_:2},1024)])),_:2},1024)):_("",!0)],64)))),128))])),_:1})])),_:1}),m(s,{class:"other-list"},{default:o((()=>[(p(!0),d(f,null,g(U.pagination.list,((a,t)=>(p(),d(f,{key:t},[t>2?(p(),l(s,{key:0,class:"item"},{default:o((()=>[m(s,{class:"num"},{default:o((()=>[S(b(t+1),1)])),_:2},1024),m(s,{class:"pictrue"},{default:o((()=>[m(r,{class:"image",src:a.avatar},null,8,["src"])])),_:2},1024),m(s,{class:"nickname"},{default:o((()=>[S(b(a.nickname),1)])),_:2},1024),m(s,{class:"people"},{default:o((()=>[S(b(a.brokerageUserCount)+"人",1)])),_:2},1024)])),_:2},1024)):_("",!0)],64)))),128))])),_:1}),U.pagination.total>0?(p(),l(u,{key:0,status:U.loadStatus,"content-text":{contentdown:"上拉加载更多"},onClick:z},null,8,["status"])):_("",!0)])),_:1})}}},[["__scopeId","data-v-6d0e956a"]]);export{N as default};
