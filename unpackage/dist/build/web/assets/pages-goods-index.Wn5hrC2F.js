import{j as e,f as t,w as s,p as o,t as l,g as a,y as d,k as i,A as c,G as n,i as r,v as u,c as f,aj as m,r as p,e as y,u as g,D as _,l as k,F as b,m as h,s as x,q as w,H as S,z as C,B as v,d as I,o as T,S as A,ak as P,al as j,ae as $,a4 as B,am as L,a9 as M,af as O,an as E,ao as V}from"./index-Ch_jkemp.js";import{_ as D}from"./s-empty.DdU54__M.js";import{_ as U}from"./su-swiper.As3S8h-n.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as G}from"./su-number-box.XmnqyQW5.js";import{c as q,_ as z,S as H}from"./s-layout.Ckk_oEQ_.js";import{c as N,f as J,d as R,g as Z,e as K,h as Q,i as W,j as X,b as Y}from"./useGoods.CmR2wUi_.js";import{d as ee,a as te,_ as se,b as oe,c as le,e as ae}from"./detail-content-card.D8f3kiUE.js";import"./comment-item.L2StcsyU.js";import"./uni-rate.D9lEAgyP.js";import"./su-image.BfvOhm0y.js";import"./mp-html.DtmLWHjR.js";const de=F({name:"countDown",props:{justifyLeft:{type:String,default:""},tipText:{type:String,default:"倒计时"},dayText:{type:String,default:"天"},hourText:{type:String,default:"时"},minuteText:{type:String,default:"分"},secondText:{type:String,default:"秒"},datatime:{type:Number,default:0},isDay:{type:Boolean,default:!0},isCol:{type:Boolean,default:!1},bgColor:{type:Object,default:null}},data:function(){return{day:"00",hour:"00",minute:"00",second:"00"}},created:function(){this.show_time()},mounted:function(){},methods:{show_time:function(){let e=this;function t(){let t=e.datatime-Date.parse(new Date)/1e3,s=0,o=0,l=0,a=0;t>0?(s=!0===e.isDay?Math.floor(t/86400):0,o=Math.floor(t/3600)-24*s,l=Math.floor(t/60)-24*s*60-60*o,a=Math.floor(t)-24*s*60*60-60*o*60-60*l,o<=9&&(o="0"+o),l<=9&&(l="0"+l),a<=9&&(a="0"+a),e.day=s,e.hour=o,e.minute=l,e.second=a):(e.day="00",e.hour="00",e.minute="00",e.second="00")}t(),setInterval(t,1e3)}}},[["render",function(u,f,m,p,y,g){const _=n,k=r;return e(),t(k,{class:"time",style:d(m.justifyLeft)},{default:s((()=>[m.tipText?(e(),t(_,{key:0,class:""},{default:s((()=>[o(l(m.tipText),1)])),_:1})):a("",!0),!0===m.isDay?(e(),t(_,{key:1,class:"styleAll p6",style:d({background:m.bgColor.bgColor,color:m.bgColor.Color})},{default:s((()=>[o(l(u.day)+l(m.bgColor.isDay?"天":""),1)])),_:1},8,["style"])):a("",!0),m.dayText?(e(),t(_,{key:2,class:"timeTxt",style:d({width:m.bgColor.timeTxtwidth,color:m.bgColor.bgColor})},{default:s((()=>[o(l(m.dayText),1)])),_:1},8,["style"])):a("",!0),i(_,{class:c(["styleAll",m.isCol?"timeCol":""]),style:d({background:m.bgColor.bgColor,color:m.bgColor.Color,width:m.bgColor.width})},{default:s((()=>[o(l(u.hour),1)])),_:1},8,["class","style"]),m.hourText?(e(),t(_,{key:3,class:c(["timeTxt",m.isCol?"whit":""]),style:d({width:m.bgColor.timeTxtwidth,color:m.bgColor.bgColor})},{default:s((()=>[o(l(m.hourText),1)])),_:1},8,["class","style"])):a("",!0),i(_,{class:c(["styleAll",m.isCol?"timeCol":""]),style:d({background:m.bgColor.bgColor,color:m.bgColor.Color,width:m.bgColor.width})},{default:s((()=>[o(l(u.minute),1)])),_:1},8,["class","style"]),m.minuteText?(e(),t(_,{key:4,class:c(["timeTxt",m.isCol?"whit":""]),style:d({width:m.bgColor.timeTxtwidth,color:m.bgColor.bgColor})},{default:s((()=>[o(l(m.minuteText),1)])),_:1},8,["class","style"])):a("",!0),i(_,{class:c(["styleAll",m.isCol?"timeCol":""]),style:d({background:m.bgColor.bgColor,color:m.bgColor.Color,width:m.bgColor.width})},{default:s((()=>[o(l(u.second),1)])),_:1},8,["class","style"]),m.secondText?(e(),t(_,{key:5,class:"timeTxt"},{default:s((()=>[o(l(m.secondText),1)])),_:1})):a("",!0)])),_:1},8,["style"])}],["__scopeId","data-v-d58ff9d2"]]),ie=F({__name:"s-select-sku",props:{goodsInfo:{type:Object,default(){}},show:{type:Boolean,default:!1}},emits:["change","addCart","buy","close"],setup(d,{emit:v}){const I=v,T=d,A=u({selectedSku:{},currentPropertyArray:{}}),P=N(T.goodsInfo.skus),j=f((()=>{let e=T.goodsInfo.skus;for(let t of e)t.value_id_array=t.properties.map((e=>e.valueId));return e}));function $(){A.selectedSku.id<=0?x.$helper.toast("请选择规格"):A.selectedSku.stock<=0?x.$helper.toast("库存不足"):I("addCart",A.selectedSku)}function B(){A.selectedSku.id<=0?x.$helper.toast("请选择规格"):A.selectedSku.stock<=0?x.$helper.toast("库存不足"):I("buy",A.selectedSku)}function L(e=!1,t=0,s=0){let o=[];if(e)for(let d of j.value)d.stock<=0||d.value_id_array.indexOf(s)>=0&&o.push(d);else o=M();let l=[];for(let d of o)l=l.concat(d.value_id_array);if(l=Array.from(new Set(l)),e){let e=l.indexOf(s);l.splice(e,1)}else Object.entries(A.currentPropertyArray).forEach((([e,t])=>{if(""!==t.toString())return;let s=l.indexOf(t);s>=0&&l.splice(s,1)}));let a=[];e?a=[t]:Object.entries(A.currentPropertyArray).forEach((([e,t])=>{""!==t&&a.push(t)}));for(let d in P)if(!(a.indexOf(P[d].id)>=0))for(let e in P[d].values)P[d].values[e].disabled=l.indexOf(P[d].values[e].id)<0}function M(){let e=[];for(let t of j.value){if(t.stock<=0)continue;let s=!0;Object.entries(A.currentPropertyArray).forEach((([e,o])=>{""!==o.toString()&&t.value_id_array.indexOf(o)<0&&(s=!1)})),s&&e.push(t)}return e}return m((()=>A.selectedSku),(e=>{I("change",e)}),{immediate:!0,deep:!0}),L(!1),(u,f)=>{const m=w,x=r,v=n,T=S,j=p(y("su-number-box"),G),O=C,E=p(y("su-popup"),q);return e(),t(E,{show:d.show,round:"10",onClose:f[3]||(f[3]=e=>I("close"))},{default:s((()=>[i(x,{class:"ss-modal-box bg-white ss-flex-col"},{default:s((()=>[i(x,{class:"modal-header ss-flex ss-col-center"},{default:s((()=>[i(x,{class:"header-left ss-m-r-30"},{default:s((()=>[i(m,{class:"sku-image",src:A.selectedSku.picUrl||d.goodsInfo.picUrl,mode:"aspectFill"},null,8,["src"])])),_:1}),i(x,{class:"header-right ss-flex-col ss-row-between ss-flex-1"},{default:s((()=>[i(x,{class:"goods-title ss-line-2"},{default:s((()=>[o(l(d.goodsInfo.name),1)])),_:1}),i(x,{class:"header-right-bottom ss-flex ss-col-center ss-row-between"},{default:s((()=>[i(x,{class:"ss-flex"},{default:s((()=>[i(x,{class:"price-text"},{default:s((()=>[o(l(g(J)(A.selectedSku.promotionPrice||A.selectedSku.price||d.goodsInfo.price))+" ",1),A.selectedSku.promotionType>0?(e(),t(v,{key:0},{default:s((()=>[4===A.selectedSku.promotionType?(e(),t(v,{key:0,class:"iconBox"},{default:s((()=>[o(" 限时优惠 ")])),_:1})):6===A.selectedSku.promotionType?(e(),t(v,{key:1,class:"iconBox"},{default:s((()=>[o(" 会员价 ")])),_:1})):a("",!0),i(v,{class:"origin-price-text"},{default:s((()=>[o(l(g(J)(A.selectedSku.price)),1)])),_:1})])),_:1})):a("",!0)])),_:1})])),_:1}),i(x,{class:"stock-text ss-m-l-20"},{default:s((()=>[o(l(g(R)("exact",A.selectedSku.stock||d.goodsInfo.stock)),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(x,{class:"modal-content ss-flex-1"},{default:s((()=>[i(O,{"scroll-y":"true",class:"modal-content-scroll",onTouchmove:f[2]||(f[2]=_((()=>{}),["stop"]))},{default:s((()=>[(e(!0),k(b,null,h(g(P),(a=>(e(),t(x,{class:"sku-item ss-m-b-20",key:a.id},{default:s((()=>[i(x,{class:"label-text ss-m-b-20"},{default:s((()=>[o(l(a.name),1)])),_:2},1024),i(x,{class:"ss-flex ss-col-center ss-flex-wrap"},{default:s((()=>[(e(!0),k(b,null,h(a.values,(d=>(e(),t(T,{class:c(["ss-reset-button spec-btn",[{"ui-BG-Main-Gradient":A.currentPropertyArray[a.id]===d.id},{"disabled-btn":!0===d.disabled}]]),key:d.id,disabled:!0===d.disabled,onClick:e=>function(e,t){let s=!0;void 0!==A.currentPropertyArray[e]&&A.currentPropertyArray[e]===t?(s=!1,A.currentPropertyArray.splice(e,1,"")):A.currentPropertyArray[e]=t;let o=[];Object.entries(A.currentPropertyArray).forEach((([e,t])=>{""!==t&&o.push(t)}));let l=M();o.length===P.length&&l.length?(l[0].goods_num=A.selectedSku.goods_num||1,A.selectedSku=l[0]):A.selectedSku={},L(s,e,t)}(a.id,d.id)},{default:s((()=>[o(l(d.name),1)])),_:2},1032,["class","disabled","onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128)),i(x,{class:"buy-num-box ss-flex ss-col-center ss-row-between ss-m-b-40"},{default:s((()=>[i(x,{class:"label-text"},{default:s((()=>[o("购买数量")])),_:1}),i(j,{min:1,max:A.selectedSku.stock,step:1,modelValue:A.selectedSku.goods_num,"onUpdate:modelValue":f[0]||(f[0]=e=>A.selectedSku.goods_num=e),onChange:f[1]||(f[1]=e=>{var t;0!==(t=e)&&A.selectedSku.goods_num!==t&&(A.selectedSku.goods_num=t)})},null,8,["max","modelValue"])])),_:1})])),_:1})])),_:1}),i(x,{class:"modal-footer border-top"},{default:s((()=>[i(x,{class:"buy-box ss-flex ss-col-center ss-flex ss-col-center ss-row-center"},{default:s((()=>[i(T,{class:"ss-reset-button add-btn ui-Shadow-Main",onClick:$},{default:s((()=>[o("加入购物车")])),_:1}),i(T,{class:"ss-reset-button buy-btn ui-Shadow-Main",onClick:B},{default:s((()=>[o("立即购买")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])}}},[["__scopeId","data-v-fa9f90e4"]]),ce=F({__name:"s-activity-pop",props:{modelValue:{type:Object,default(){}},show:{type:Boolean,default:!1}},emits:["close"],setup(d,{emit:c}){const m=d,w=c,S=u({rewardActivity:f((()=>m.modelValue.rewardActivity)),couponInfo:f((()=>m.modelValue.couponInfo))});return(c,u)=>{const f=r,m=n,v=C,I=p(y("su-popup"),q);return e(),t(I,{show:d.show,type:"bottom",round:"20",onClose:u[1]||(u[1]=e=>w("close")),showClose:""},{default:s((()=>[i(f,{class:"model-box"},{default:s((()=>[i(f,{class:"title ss-m-t-16 ss-m-l-20 ss-flex"},{default:s((()=>[o("优惠")])),_:1}),S.rewardActivity&&S.rewardActivity.id>0?(e(),t(f,{key:0},{default:s((()=>[i(f,{class:"titleLi"},{default:s((()=>[o("促销")])),_:1}),i(v,{class:"model-content","scroll-y":"","scroll-with-animation":!1,"enable-back-to-top":!0},{default:s((()=>[(e(!0),k(b,null,h(g(Z)(S.rewardActivity),((a,d)=>(e(),t(f,{class:"actBox",key:d},{default:s((()=>[i(f,{class:"boxCont ss-flex ss-col-top ss-m-b-40",onClick:u[0]||(u[0]=e=>{return t=S.rewardActivity,void x.$router.go("/pages/activity/index",{activityId:t.id});var t})},{default:s((()=>[i(f,{class:"model-content-tag ss-flex ss-row-center"},{default:s((()=>[o(l(a.name),1)])),_:2},1024),i(f,{class:"model-content-title"},{default:s((()=>[i(f,{class:"contBu"},{default:s((()=>[o(l(a.values.join(";")),1)])),_:2},1024),i(f,{class:"ss-m-b-24 cotBu-txt"},{default:s((()=>[o(l(g(x).$helper.timeFormat(S.rewardActivity.startTime,"yyyy.mm.dd"))+" - "+l(g(x).$helper.timeFormat(S.rewardActivity.endTime,"yyyy.mm.dd")),1)])),_:1})])),_:2},1024),i(m,{class:"cicon-forward"})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):a("",!0),i(f,{class:"titleLi"},{default:s((()=>[o("可领优惠券")])),_:1}),S.couponInfo.length?(e(),t(v,{key:1,class:"model-content","scroll-y":"","scroll-with-animation":!1,"enable-back-to-top":!0},{default:s((()=>[(e(!0),k(b,null,h(S.couponInfo,(a=>(e(),t(f,{class:"actBox",key:a.id},{default:s((()=>[i(f,{class:"boxCont ss-flex ss-col-top ss-m-b-40"},{default:s((()=>[i(f,{class:"model-content-tag2"},{default:s((()=>[i(f,{class:"usePrice"},{default:s((()=>[o(" ￥"+l(g(J)(a.discountPrice)),1)])),_:2},1024),i(f,{class:"impose"},{default:s((()=>[o(" 满￥"+l(g(J)(a.usePrice))+"可用 ",1)])),_:2},1024)])),_:2},1024),i(f,{class:"model-content-title2"},{default:s((()=>[i(f,{class:"contBu"},{default:s((()=>[o(l(a.name),1)])),_:2},1024),i(f,{class:"ss-m-b-24 cotBu-txt"},{default:s((()=>[o(l(1==a.validityType?g(x).$helper.timeFormat(a.validStartTime,"yyyy-mm-dd")+"-"+g(x).$helper.timeFormat(a.validEndTime,"yyyy-mm-dd"):"领取后"+a.fixedStartTerm+"-"+a.fixedEndTerm+"天可用"),1)])),_:2},1024)])),_:2},1024),a.canTake?(e(),t(f,{key:0,class:"coupon",onClick:_((e=>{return t=a.id,void w("get",t);var t}),["stop"])},{default:s((()=>[o(" 立即领取 ")])),_:2},1032,["onClick"])):(e(),t(f,{key:1,class:"coupon2"},{default:s((()=>[o(" 已领取 ")])),_:1}))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(e(),t(f,{key:2,class:"nullBox"},{default:s((()=>[o(" 暂无可领优惠券 ")])),_:1}))])),_:1})])),_:1},8,["show"])}}},[["__scopeId","data-v-60630f12"]]),ne=F({__name:"detail-activity-tip",props:{activityList:{type:Array,default:()=>[]}},setup(d){v((e=>({"6caeba89":g(n),"4c281438":g(u)})));const n=x.$url.css("/static/img/shop/goods/seckill-tip-bg.png"),u=x.$url.css("/static/img/shop/goods/groupon-tip-bg.png"),f=d;return(d,n)=>{const u=w,m=r,_=S,C=p(y("su-fixed"),z);return e(),t(C,{bottom:"",placeholder:"",val:44},{default:s((()=>[i(m,null,{default:s((()=>[(e(!0),k(b,null,h(f.activityList,(d=>(e(),t(m,{key:d.id},{default:s((()=>[i(m,{class:c(["activity-box ss-p-x-38 ss-flex ss-row-between ss-col-center",1===d.type?"seckill-box":"groupon-box"])},{default:s((()=>[i(m,{class:"activity-title ss-flex"},{default:s((()=>[i(m,{class:"ss-m-r-16"},{default:s((()=>[1===d.type?(e(),t(u,{key:0,src:g(x).$url.static("/static/img/shop/goods/seckill-icon.png"),class:"activity-icon"},null,8,["src"])):3===d.type?(e(),t(u,{key:1,src:g(x).$url.static("/static/img/shop/goods/groupon-icon.png"),class:"activity-icon"},null,8,["src"])):a("",!0)])),_:2},1024),i(m,null,{default:s((()=>[o("该商品正在参与"+l(d.name)+"活动",1)])),_:2},1024)])),_:2},1024),i(_,{class:"ss-reset-button activity-go",onClick:e=>function(e){const t=e.type,s=1===t?"seckill":3===t?"groupon":void 0;s&&x.$router.go(`/pages/goods/${s}`,{id:e.id})}(d)},{default:s((()=>[o(" GO ")])),_:2},1032,["onClick"])])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-1240be1f"]]),re=F({__name:"index",setup(d){I((()=>{}));const c={bgColor:"#E93323",Color:"#fff",width:"44rpx",timeTxtwidth:"16rpx",isDay:!0},m=f((()=>x.$store("user").isLogin)),_=u({goodsId:0,skeletonLoading:!0,goodsInfo:{},showSelectSku:!1,selectedSku:{},settlementSku:{},showModel:!1,couponInfo:[],showActivityModel:!1,rewardActivity:{},activityList:[]});function C(e){_.selectedSku=e,_.settlementSku=e}function v(e){e.id?x.$store("cart").add(e):x.$helper.toast("请选择商品规格")}function F(e){e.id?x.$router.go("/pages/order/confirm",{data:JSON.stringify({items:[{skuId:e.id,count:e.goods_num,categoryId:_.goodsInfo.categoryId}]})}):x.$helper.toast("请选择商品规格")}function G(){_.showActivityModel=!0}async function q(e){const{code:t}=await $.takeCoupon(e);0===t&&(O({title:"领取成功"}),setTimeout((()=>{N()}),1e3))}const z=f((()=>E(_.goodsInfo)?{}:x.$platform.share.getShareInfo({title:_.goodsInfo.name,image:x.$url.cdn(_.goodsInfo.picUrl),desc:_.goodsInfo.introduction,params:{page:V.GOODS.value,query:_.goodsInfo.id}},{type:"goods",title:_.goodsInfo.name,image:x.$url.cdn(_.goodsInfo.picUrl),price:J(_.goodsInfo.price),original_price:J(_.goodsInfo.marketPrice)})));async function N(){const{code:e,data:t}=await $.getCouponTemplateList(_.goodsId,2,10);0===e&&(_.couponInfo=t)}async function R(e){let{data:t,code:s}=await B.getSettlementProduct(e);0===s&&1===t.length&&(t=t[0],_.goodsInfo.skus.forEach((e=>{t.skus.forEach((t=>{e.id===t.id&&(e.promotionType=t.promotionType,e.promotionPrice=t.promotionPrice,e.promotionId=t.promotionId,e.promotionEndTime=t.promotionEndTime)}))})),_.settlementSku=_.goodsInfo.skus.filter((e=>e.stock>0&&e.promotionPrice>0)).reduce(((e,t)=>e.promotionPrice<t.promotionPrice?e:t),[]),t.rewardActivity&&(_.rewardActivity=t.rewardActivity,async function(e){const{code:t,data:s}=await L.getRewardActivity(e);0===t&&(_.rewardActivity.startTime=s.startTime,_.rewardActivity.endTime=s.endTime)}(_.rewardActivity.id)))}return T((e=>{if(!e.id)return _.goodsInfo=null,void(_.skeletonLoading=!1);_.goodsId=e.id,A.getSpuDetail(_.goodsId).then((e=>{if(0!==e.code||!e.data)return _.goodsInfo=null,void(_.skeletonLoading=!1);_.skeletonLoading=!1,_.goodsInfo=e.data,R(_.goodsId),m.value&&P.isFavoriteExists(_.goodsId,"goods").then((e=>{0===e.code&&(_.goodsInfo.favorite=e.data)}))})),N(),j.getActivityListBySpuId(_.goodsId).then((e=>{0===e.code&&(_.activityList=e.data)}))})),(d,u)=>{const f=p(y("s-empty"),D),m=p(y("su-swiper"),U),I=w,T=r,A=p(y("s-count-down"),de),P=n,j=p(y("s-select-sku"),ie),$=S,B=p(y("s-activity-pop"),ce),L=p(y("s-layout"),H);return e(),t(T,null,{default:s((()=>[i(L,{onShareAppMessage:z.value,navbar:"goods"},{default:s((()=>[i(ee),_.skeletonLoading?(e(),t(te,{key:0})):null===_.goodsInfo?(e(),t(f,{key:1,text:"商品不存在或已下架",icon:"/static/soldout-empty.png",showAction:"",actionText:"再逛逛",actionUrl:"/pages/goods/list"})):(e(),k(b,{key:2},[i(T,{class:"detail-swiper-selector"},{default:s((()=>[i(m,{class:"ss-m-b-14",isPreview:"",list:g(K)(_.goodsInfo.sliderPicUrls),otStyle:"tag",imageMode:"widthFix",dotCur:"bg-mask-40",seizeHeight:750},null,8,["list"]),_.settlementSku&&_.settlementSku.id&&_.settlementSku.promotionPrice?(e(),t(T,{key:0,class:"discount"},{default:s((()=>[i(I,{class:"disImg",src:g(x).$url.static("/static/img/shop/goods/dis.png")},null,8,["src"]),i(T,{class:"discountCont"},{default:s((()=>[i(T,{class:"disContT"},{default:s((()=>[i(T,{class:"disContT1"},{default:s((()=>[i(T,{class:"disContT1P"},{default:s((()=>[o(" ￥"+l(g(J)(_.settlementSku.promotionPrice)),1)])),_:1}),i(T,{class:"disContT1End"},{default:s((()=>[o(" 直降￥ "+l(g(J)(_.settlementSku.price-_.settlementSku.promotionPrice)),1)])),_:1})])),_:1}),4===_.settlementSku.promotionType?(e(),t(T,{key:0,class:"disContT2"},{default:s((()=>[o(" 限时折扣 ")])),_:1})):6===_.settlementSku.promotionType?(e(),t(T,{key:1,class:"disContT2"},{default:s((()=>[o(" 会员折扣 ")])),_:1})):a("",!0)])),_:1}),i(T,{class:"disContB"},{default:s((()=>[i(T,{class:"disContB1"},{default:s((()=>[o(" 价格：￥"+l(g(J)(_.settlementSku.price))+" 丨 剩余： "+l(_.settlementSku.stock),1)])),_:1}),_.settlementSku.promotionEndTime>0?(e(),t(T,{key:0,class:"disContB2"},{default:s((()=>[o(" 距结束仅剩 "),i(A,{tipText:" ",bgColor:c,dayText:":",hourText:":",minuteText:":",secondText:" ",datatime:_.settlementSku.promotionEndTime/1e3,isDay:!1},null,8,["datatime"])])),_:1})):a("",!0)])),_:1})])),_:1})])),_:1})):a("",!0),i(T,{class:"title-card detail-card ss-p-y-30 ss-p-x-20"},{default:s((()=>[_.settlementSku.promotionPrice?a("",!0):(e(),t(T,{key:0,class:"ss-flex ss-row-between ss-col-center ss-m-b-26"},{default:s((()=>[i(T,{class:"price-box ss-flex ss-col-bottom"},{default:s((()=>[i(T,{class:"price-text ss-m-r-16"},{default:s((()=>[o(l(g(J)(_.selectedSku.price||_.goodsInfo.price)),1)])),_:1}),_.goodsInfo.marketPrice>_.goodsInfo.price?(e(),t(T,{key:0,class:"origin-price-text"},{default:s((()=>[o(l(g(J)(_.selectedSku.marketPrice||_.goodsInfo.marketPrice)),1)])),_:1})):a("",!0)])),_:1}),i(T,{class:"sales-text"},{default:s((()=>[o(l(g(Q)("exact",_.goodsInfo.salesCount)),1)])),_:1})])),_:1})),i(T,{class:"discounts-box ss-flex ss-row-between ss-m-b-28"},{default:s((()=>[(e(!0),k(b,null,h(_.couponInfo.slice(0,1),(a=>(e(),t(T,{class:"tag ss-m-r-10",key:a.id,onClick:G},{default:s((()=>[o(" [劵]满"+l(g(X)(a.usePrice))+"元"+l(1===a.discountType?"减"+g(X)(a.discountPrice)+"元":"打"+g(Y)(a.discountPercent)+"折"),1)])),_:2},1024)))),128)),M("div",{class:"tag-content"},[i(T,{class:"tag-box ss-flex"},{default:s((()=>[(e(!0),k(b,null,h(g(W)(_.rewardActivity).slice(0,3-_.couponInfo.slice(0,1).length),(a=>(e(),t(T,{key:a,class:"tag ss-m-r-10",onClick:G},{default:s((()=>[i(P,null,{default:s((()=>[o(l(a),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),_.couponInfo.length?(e(),t(T,{key:0,class:"get-coupon-box ss-flex ss-col-center ss-m-l-20",onClick:G},{default:s((()=>[i(T,{class:"discounts-title ss-m-r-8"},{default:s((()=>[o("领券")])),_:1}),i(P,{class:"cicon-forward"})])),_:1})):a("",!0)])),_:1}),i(T,{class:"title-text ss-line-2 ss-m-b-6"},{default:s((()=>[o(l(_.goodsInfo.name),1)])),_:1}),i(T,{class:"subtitle-text ss-line-1"},{default:s((()=>[o(l(_.goodsInfo.introduction),1)])),_:1})])),_:1}),i(T,{class:"detail-cell-card detail-card ss-flex-col"},{default:s((()=>[i(se,{modelValue:_.selectedSku.goods_sku_text,"onUpdate:modelValue":u[0]||(u[0]=e=>_.selectedSku.goods_sku_text=e),sku:_.selectedSku,onClick:u[1]||(u[1]=e=>_.showSelectSku=!0)},null,8,["modelValue","sku"])])),_:1}),i(j,{goodsInfo:_.goodsInfo,show:_.showSelectSku,onAddCart:v,onBuy:F,onChange:C,onClose:u[2]||(u[2]=e=>_.showSelectSku=!1)},null,8,["goodsInfo","show"])])),_:1}),i(oe,{class:"detail-comment-selector",goodsId:_.goodsId},null,8,["goodsId"]),i(le,{class:"detail-content-selector",content:_.goodsInfo.description},null,8,["content"]),_.activityList.length>0?(e(),t(ne,{key:0,"activity-list":_.activityList},null,8,["activity-list"])):a("",!0),i(ae,{modelValue:_.goodsInfo,"onUpdate:modelValue":u[5]||(u[5]=e=>_.goodsInfo=e)},{default:s((()=>[_.goodsInfo.stock>0?(e(),t(T,{key:0,class:"buy-box ss-flex ss-col-center ss-p-r-20"},{default:s((()=>[i($,{class:"ss-reset-button add-btn ui-Shadow-Main",onClick:u[3]||(u[3]=e=>_.showSelectSku=!0)},{default:s((()=>[o(" 加入购物车 ")])),_:1}),i($,{class:"ss-reset-button buy-btn ui-Shadow-Main",onClick:u[4]||(u[4]=e=>_.showSelectSku=!0)},{default:s((()=>[o(" 立即购买 ")])),_:1})])),_:1})):(e(),t(T,{key:1,class:"buy-box ss-flex ss-col-center ss-p-r-20"},{default:s((()=>[i($,{class:"ss-reset-button disabled-btn",disabled:""},{default:s((()=>[o(" 已售罄 ")])),_:1})])),_:1}))])),_:1},8,["modelValue"]),i(B,{modelValue:_,"onUpdate:modelValue":u[6]||(u[6]=e=>_=e),show:_.showActivityModel,onClose:u[7]||(u[7]=e=>_.showActivityModel=!1),onGet:q},null,8,["modelValue","show"])],64))])),_:1},8,["onShareAppMessage"])])),_:1})}}},[["__scopeId","data-v-c8bfa025"]]);export{re as default};
