import{j as e,f as t,w as s,p as a,t as r,A as l,y as i,g as o,G as n,r as d,e as c,u,an as m,k as p,T as f,D as g,s as y,i as _,q as b,H as k,v as x,o as h,n as S,a$ as v,ax as B,L as w,b0 as C,O as T,l as $,m as j,F as A,b1 as N}from"./index-DugDUeNE.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as I,S as z}from"./s-layout.BR6uiIJz.js";import{_ as F}from"./s-empty.SJwFoNXy.js";const M=D({name:"UniTag",emits:["click"],props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1},customStyle:{type:String,default:""}},computed:{classes(){const{type:e,disabled:t,inverted:s,circle:a,mark:r,size:l,isTrue:i}=this;return["uni-tag--"+e,"uni-tag--"+l,i(t)?"uni-tag--disabled":"",i(s)?"uni-tag--"+e+"--inverted":"",i(a)?"uni-tag--circle":"",i(r)?"uni-tag--mark":"",i(s)?"uni-tag--inverted uni-tag-text--"+e:"","small"===l?"uni-tag-text--small":""].join(" ")}},methods:{isTrue:e=>!0===e||"true"===e,onClick(){this.isTrue(this.disabled)||this.$emit("click")}}},[["render",function(d,c,u,m,p,f){const g=n;return u.text?(e(),t(g,{key:0,class:l(["uni-tag",f.classes]),style:i(u.customStyle),onClick:f.onClick},{default:s((()=>[a(r(u.text),1)])),_:1},8,["class","style","onClick"])):o("",!0)}],["__scopeId","data-v-6751c3c1"]]),O=D({__name:"s-address-item",props:{item:{type:Object,default(){}},hasBorderBottom:{type:Boolean,defult:!0}},setup(i){const n=i,x=()=>{y.$router.go("/pages/user/address/edit",{id:n.item.id})};return(i,h)=>{const S=d(c("uni-tag"),M),v=_,B=b,w=k;return e(),t(v,{class:l(["address-item ss-flex ss-row-between ss-col-center",[{"border-bottom":n.hasBorderBottom}]])},{default:s((()=>[u(m)(n.item)?(e(),t(v,{key:1},{default:s((()=>[p(v,{class:"address-text ss-m-b-10"},{default:s((()=>[a("请选择收货地址")])),_:1})])),_:1})):(e(),t(v,{key:0,class:"item-left"},{default:s((()=>[p(v,{class:"area-text ss-flex ss-col-center"},{default:s((()=>[n.item.defaultStatus?(e(),t(S,{key:0,class:"ss-m-r-10",size:"small","custom-style":"background-color: var(--ui-BG-Main); border-color: var(--ui-BG-Main); color: #fff;",text:"默认"})):o("",!0),a(" "+r(n.item.areaName),1)])),_:1}),p(v,{class:"address-text"},{default:s((()=>[a(r(n.item.detailAddress),1)])),_:1}),p(v,{class:"person-text"},{default:s((()=>[a(r(n.item.name)+" "+r(n.item.mobile),1)])),_:1})])),_:1})),f(i.$slots,"default",{},(()=>[p(w,{class:"ss-reset-button edit-btn",onClick:g(x,["stop"])},{default:s((()=>[p(v,{class:"edit-icon ss-flex ss-row-center ss-col-center"},{default:s((()=>[p(B,{src:u(y).$url.static("/static/img/shop/user/address/edit.png")},null,8,["src"])])),_:1})])),_:1})]),!0)])),_:3},8,["class"])}}},[["__scopeId","data-v-6bc4247a"]]),E=D({__name:"list",setup(r){const l=x({list:[],loading:!0,openType:""});function i(){let e={};y.$platform.useProvider("wechat").jssdk.openAddress({success:t=>{e={consignee:t.userName,mobile:t.telNumber,province_name:t.provinceName,city_name:t.cityName,district_name:t.countryName,address:t.detailInfo,region:"",is_default:!1},m(e)||y.$router.go("/pages/user/address/edit",{data:JSON.stringify(e)})}})}return h((e=>{e.type&&(l.openType=e.type)})),S((async()=>{l.list=(await v.getAddressList()).data,l.loading=!1})),B((()=>{w("areaData")||C.getAreaTree().then((e=>{0===e.code&&T("areaData",e.data)}))})),(r,m)=>{const f=d(c("s-address-item"),O),g=_,b=n,x=k,h=d(c("su-fixed"),I),S=d(c("s-empty"),F),v=d(c("s-layout"),z);return e(),t(v,{bgStyle:{color:"#FFF"},title:"收货地址"},{default:s((()=>[l.list.length?(e(),t(g,{key:0},{default:s((()=>[(e(!0),$(A,null,j(l.list,(s=>(e(),t(f,{hasBorderBottom:"",key:s.id,item:s,onClick:e=>{return t=s,void("select"===l.openType&&(N("SELECT_ADDRESS",{addressInfo:t}),y.$router.back()));var t}},null,8,["item","onClick"])))),128))])),_:1})):o("",!0),p(h,{bottom:"",placeholder:""},{default:s((()=>[p(g,{class:"footer-box ss-flex ss-row-between ss-p-20"},{default:s((()=>[["WechatMiniProgram","WechatOfficialAccount"].includes(u(y).$platform.name)?(e(),t(x,{key:0,onClick:i,class:"border ss-reset-button sync-wxaddress ss-m-20 ss-flex ss-row-center ss-col-center"},{default:s((()=>[p(b,{class:"cicon-weixin ss-p-r-10",style:{color:"#09bb07","font-size":"40rpx"}}),a(" 导入微信地址 ")])),_:1})):o("",!0),p(x,{class:"add-btn ss-reset-button ui-Shadow-Main",onClick:m[0]||(m[0]=e=>u(y).$router.go("/pages/user/address/edit"))},{default:s((()=>[a(" 新增收货地址 ")])),_:1})])),_:1})])),_:1}),0!==l.list.length||l.loading?o("",!0):(e(),t(S,{key:1,text:"暂无收货地址",icon:"/static/data-empty.png"}))])),_:1})}}},[["__scopeId","data-v-fa87ec99"]]);export{E as default};
